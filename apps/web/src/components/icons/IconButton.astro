---
import Icon from './Icon.astro'

interface Props {
  name: string
  size?: number | string
  label: string
  href?: string
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost'
  class?: string
}

const {
  name,
  size = 20,
  label,
  href,
  variant = 'primary',
  class: className = '',
} = Astro.props

const baseClass = `icon-button icon-button--${variant}`
---

{href ? (
  <a href={href} class={`${baseClass} ${className}`} aria-label={label}>
    <Icon name={name} size={size} />
    <span class="sr-only">{label}</span>
  </a>
) : (
  <button type="button" class={`${baseClass} ${className}`} aria-label={label}>
    <Icon name={name} size={size} />
    <span class="sr-only">{label}</span>
  </button>
)}

<style>
  .icon-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 0.375rem;
    transition: all 0.2s;
    cursor: pointer;
    border: none;
    background: none;
    text-decoration: none;
  }
  
  .icon-button--primary {
    background-color: var(--color-primary, #3b82f6);
    color: white;
  }
  
  .icon-button--primary:hover {
    background-color: var(--color-primary-dark, #2563eb);
  }
  
  .icon-button--secondary {
    background-color: var(--color-secondary, #6b7280);
    color: white;
  }
  
  .icon-button--secondary:hover {
    background-color: var(--color-secondary-dark, #4b5563);
  }
  
  .icon-button--outline {
    border: 1px solid var(--color-border, #d1d5db);
    color: var(--color-text, #1a1a1a);
  }
  
  .icon-button--outline:hover {
    background-color: var(--color-bg-hover, #f3f4f6);
  }
  
  .icon-button--ghost {
    color: var(--color-text, #1a1a1a);
  }
  
  .icon-button--ghost:hover {
    background-color: var(--color-bg-hover, #f3f4f6);
  }
  
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
</style>

