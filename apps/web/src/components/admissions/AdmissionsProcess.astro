---
import * as LucideIcons from "lucide-astro";

interface Props {
    admissionProcess: {
        title?: string;
        steps?: Array<{
            stepNumber?: number;
            title?: string;
            description?: string;
            icon?: string;
        }>;
    };
}

const { admissionProcess } = Astro.props;

if (!admissionProcess) return null;
---

<section
    class="min-h-[60vh] px-5 py-10 sm:px-[60px] sm:py-[100px] bg-[var(--color-primary)]/10"
>
    <div class="container mx-auto">
        <div class="text-center max-w-3xl mx-auto mb-16">
            <h2
                class="text-section-header-mobile sm:text-section-header-desktop font-serif text-[var(--color-primary)] mb-4"
            >
                {admissionProcess.title || "Our Admissions Process"}
            </h2>
            <div class="w-20 h-1 bg-[var(--color-accent)] mx-auto rounded-full">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {
                admissionProcess.steps &&
                    admissionProcess.steps.map((step, index) => {
                        const IconComponent =
                            step.icon &&
                            LucideIcons[step.icon as keyof typeof LucideIcons]
                                ? LucideIcons[
                                      step.icon as keyof typeof LucideIcons
                                  ]
                                : LucideIcons.ClipboardCheck;

                        return (
                            <div class="relative bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-transform hover:-translate-y-1">
                                {/* Step Number Badge */}
                                <div class="absolute -top-4 -left-4 w-10 h-10 rounded-full bg-[var(--color-accent)] text-[var(--color-primary)] font-bold flex items-center justify-center text-lg shadow-sm border-2 border-white">
                                    {step.stepNumber || index + 1}
                                </div>

                                <div class="text-[var(--color-primary)] mb-4 mt-2 flex justify-center">
                                    <IconComponent
                                        size={40}
                                        strokeWidth={1.5}
                                    />
                                </div>

                                <h3 class="text-lg font-bold text-[var(--color-primary)] text-center mb-3 min-h-[3rem] flex items-center justify-center">
                                    {step.title}
                                </h3>

                                <p class="text-sm text-gray-600 text-center leading-relaxed">
                                    {step.description}
                                </p>
                            </div>
                        );
                    })
            }
        </div>
    </div>
</section>
